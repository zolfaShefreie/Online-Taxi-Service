{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"most requested area","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"most requested area\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  title: most requested area​​​​​\\n  //config: {kibana: {hideWarnings: true}}\\n  params: [\\n    {\\n      \\\"name\\\": \\\"highlight\\\",\\n      \\\"select\\\": {\\\"type\\\": \\\"point\\\", \\\"on\\\": \\\"mouseover\\\"}\\n    },\\n    {\\\"name\\\": \\\"select\\\", \\\"select\\\": \\\"point\\\"}\\n  ]\\n  // Define the data source\\n  data: {\\n    url: {\\n\\n      // Apply dashboard context filters when set\\n      // Filter the time picker (upper right corner) with this field\\n      // Which index to search\\n      index: taxi_service_index\\n      body: {\\n        aggs: {\\n          \\\"geo\\\": {\\n            \\\"geohash_grid\\\": {\\n              \\\"field\\\": \\\"Location\\\",\\n              \\\"precision\\\": 7,\\n              \\\"size\\\": 10\\n            },\\n            \\\"aggs\\\": {\\n              \\\"point\\\": {\\n                \\\"geo_centroid\\\": {\\n                  \\\"field\\\": \\\"Location\\\"\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n      \\n    format: {property: \\\"aggregations.geo.buckets\\\"}\\n  }\\n  transform: [\\n    {\\\"calculate\\\": \\\"'('+ substring(toString(datum.point.location.lat), 0, 8) + ', '+ substring(toString(datum.point.location.lon), 0, 8)+')'\\\", \\\"as\\\": \\\"geopoint\\\"}\\n  ]\\n  mark: {\\n    type: \\\"bar\\\",\\n    fill: \\\"#6c8f46\\\",\\n    stroke: \\\"black\\\",\\n    cursor: \\\"pointer\\\"\\n  },\\n  encoding: {\\n    x: {\\n      field: geopoint\\n      type: nominal\\n      axis: {title: \\\"locations\\\"} // Customize X axis format\\n    }\\n    y: {\\n      field: doc_count\\n      type: quantitative\\n      axis: {title: \\\"request count\\\"}\\n    }\\n    //\\\"color\\\": {\\\"value\\\": \\\"#6c8f46\\\"}\\n  \\n  \\\"fillOpacity\\\": {\\n      \\\"condition\\\": {\\\"param\\\": \\\"select\\\", \\\"value\\\": 1},\\n      \\\"value\\\": 0.3\\n    },\\n    \\\"strokeWidth\\\": {\\n      \\\"condition\\\": [\\n        {\\n          \\\"param\\\": \\\"select\\\",\\n          \\\"empty\\\": false,\\n          \\\"value\\\": 2\\n        },\\n        {\\n          \\\"param\\\": \\\"highlight\\\",\\n          \\\"empty\\\": false,\\n          \\\"value\\\": 1\\n        }\\n      ],\\n      \\\"value\\\": 0\\n    }\\n  }\\n}\\n\"}}"},"coreMigrationVersion":"8.3.0","id":"6730b650-fec9-11ec-9a60-c13ff642193d","migrationVersion":{"visualization":"8.3.0"},"references":[],"type":"visualization","updated_at":"2022-07-08T14:59:41.874Z","version":"WzM0MTgsMl0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":1,"missingRefCount":0,"missingReferences":[]}