{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"heatmap most requested area ","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"heatmap most requested area \",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  title: heatmap most requested area​​​​​ with range time\\n  //config: {kibana: {hideWarnings: true}}\\n  params: [\\n    {\\n    name: \\\"grid\\\",\\n    select: \\\"interval\\\",\\n    bind: \\\"scales\\\"\\n  }\\n  {\\n      \\\"name\\\": \\\"from_date\\\",\\n      \\\"value\\\": 1,\\n      \\\"bind\\\": {\\\"input\\\": \\\"datetime-local\\\", step: 1}\\n    }\\n    {\\n      \\\"name\\\": \\\"to_date\\\",\\n      \\\"value\\\": 1,\\n      \\\"bind\\\": {\\\"input\\\": \\\"datetime-local\\\", \\\"step\\\": 1}\\n    }\\n  ]\\n    transform: [ \\n    {\\n      \\\"calculate\\\": \\\"timeParse(from_date, '%m/%d/%Y %H:%M:%S')\\\",\\n      \\\"as\\\": \\\"from_time\\\"\\n    }\\n    {\\n      \\\"calculate\\\": \\\"timeParse(to_date, '%m/%d/%Y %H:%M:%S')\\\",\\n      \\\"as\\\": \\\"to_time\\\"\\n    }\\n  ]\\n  // Define the data source\\n  data: {\\n    url: {\\n      %context%: true\\n      index: taxi_service_index\\n      body: {\\n        \\\"aggs\\\":{\\n          \\\"filter_date\\\":{\\n            \\\"filter\\\": {\\n              \\\"range\\\": {\\n                \\\"Date/Time\\\": {\\n                  \\\"gte\\\": \\\"09/01/2014 00:00:00\\\"\\n                  \\\"lte\\\": \\\"09/01/2014 01:20:00\\\"\\n                }\\n              }\\n            },\\n            \\\"aggs\\\": {\\n              \\\"geo\\\": {\\n                \\\"geohash_grid\\\": {\\n                  \\\"field\\\": \\\"Location\\\",\\n                  \\\"precision\\\": 7,\\n                  \\\"size\\\": 10000\\n                },\\n                \\\"aggs\\\": {\\n                  \\\"point\\\": {\\n                    \\\"geo_centroid\\\": {\\n                      \\\"field\\\": \\\"Location\\\"\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n      \\n    format: {property: \\\"aggregations.filter_date.geo.buckets\\\"}\\n  }\\n  mark: {\\n    type: \\\"point\\\"},\\n  encoding: {\\n    x: {\\n      field: point.location.lat\\n      type: quantitative\\n      axis: {title: \\\"Lat\\\"}\\n      scale: {domain: [39.9896, 41.3184]}\\n    }\\n    y: {\\n      field: point.location.lon\\n      type: quantitative\\n      axis: {title: \\\"Lon\\\"}\\n      scale: {domain: [-74.7737, -72.7162]}\\n    }\\n    \\\"color\\\": {\\n      \\\"field\\\": \\\"doc_count\\\", \\n      \\\"type\\\": \\\"quantitative\\\", \\n      \\\"scale\\\": {\\\"scheme\\\": \\\"turbo\\\"}}\\n  }\\n}\\n\"}}"},"coreMigrationVersion":"8.3.0","id":"8ba53a30-fee5-11ec-9a60-c13ff642193d","migrationVersion":{"visualization":"8.3.0"},"references":[],"type":"visualization","updated_at":"2022-07-08T19:09:15.754Z","version":"WzU1MjksMl0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":1,"missingRefCount":0,"missingReferences":[]}